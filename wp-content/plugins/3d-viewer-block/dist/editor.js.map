{"version":3,"file":"editor.js","mappings":"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","sources":["webpack://3d-viewer-block/external var [\"wp\",\"blocks\"]","webpack://3d-viewer-block/external var [\"wp\",\"i18n\"]","webpack://3d-viewer-block/external var [\"wp\",\"element\"]","webpack://3d-viewer-block/external var [\"wp\",\"blockEditor\"]","webpack://3d-viewer-block/external var [\"wp\",\"components\"]","webpack://3d-viewer-block/../Components/Title.js","webpack://3d-viewer-block/../Components/BtnGroup.js","webpack://3d-viewer-block/./src/Const/options.js","webpack://3d-viewer-block/./src/Settings.js","webpack://3d-viewer-block/./src/Style.js","webpack://3d-viewer-block/./src/TDViewer.js","webpack://3d-viewer-block/./src/Edit.js","webpack://3d-viewer-block/./src/Const/icons.js","webpack://3d-viewer-block/./src/editor.js"],"sourcesContent":["var __WEBPACK_NAMESPACE_OBJECT__ = wp.blocks;","var __WEBPACK_NAMESPACE_OBJECT__ = wp.i18n;","var __WEBPACK_NAMESPACE_OBJECT__ = wp.element;","var __WEBPACK_NAMESPACE_OBJECT__ = wp.blockEditor;","var __WEBPACK_NAMESPACE_OBJECT__ = wp.components;","import './Helper/style';\r\n\r\nconst Title = props => {\r\n\tconst { mt, mb, children } = props;\r\n\r\n\treturn <p className='bPlLabel' style={{ marginTop: `${mt || '20px'}`, marginBottom: `${mb || '5px'}` }}>{children}</p>;\r\n};\r\nexport default Title;","/**\r\n * @props className (optional): 'mt20' (String)\r\n * @props value (String)\r\n * @props onChange: (Function)\r\n * @return Value (String)\r\n */\r\n\r\nimport { Button, ButtonGroup, Tooltip } from '@wordpress/components';\r\n\r\nconst BtnGroup = props => {\r\n\tconst { className, value, onChange, options, isIcon = false, isTextIcon = false, size } = props;\r\n\r\n\treturn (\r\n\t\t<ButtonGroup className={`bPlBtnGroup ${className || null}`}>\r\n\t\t\t{Object.values(options).map(obj => <Tooltip key={obj.value} text={obj.label} position='top'>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ticon={isIcon ? obj?.icon : null}\r\n\t\t\t\t\tisPrimary={value === obj.value}\r\n\t\t\t\t\taria-pressed={value === obj.value}\r\n\t\t\t\t\tisSmall={size === 'small' ? true : false}\r\n\t\t\t\t\tisMedium={size === 'small' ? false : true}\r\n\t\t\t\t\tonClick={() => onChange(obj.value, obj.def && obj.def)}\r\n\t\t\t\t>{isTextIcon ? obj.icon : isIcon ? '' : obj.label}</Button>\r\n\t\t\t</Tooltip>)}\r\n\t\t</ButtonGroup>\r\n\t);\r\n};\r\nexport default BtnGroup;","import { __ } from '@wordpress/i18n';\r\n\r\nconst options = {\r\n\tsourceTypes: [\r\n\t\t{ label: __('Upload', '3d-viewer-block'), value: 'upload' },\r\n\t\t{ label: __('Link', '3d-viewer-block'), value: 'link' }\r\n\t],\r\n\r\n\tloadingTypes: [\r\n\t\t{ label: __('Auto', '3d-viewer-block'), value: 'auto' },\r\n\t\t{ label: __('Lazy', '3d-viewer-block'), value: 'lazy' },\r\n\t\t{ label: __('Eager', '3d-viewer-block'), value: 'eager' }\r\n\t],\r\n\r\n\tpxUnit: { value: 'px', label: 'px', default: 0 },\r\n\tperUnit: { value: '%', label: '%', default: 0 },\r\n\temUnit: { value: 'em', label: 'em', default: 0 },\r\n\tremUnit: { value: 'rem', label: 'rem', default: 0 },\r\n\tvwUnit: { value: 'vw', label: 'vw', default: 0 },\r\n\tvhUnit: { value: 'vh', label: 'vh', default: 0 }\r\n}\r\nexport default options;","import { __ } from '@wordpress/i18n';\r\nimport { InspectorControls, BlockControls, AlignmentToolbar, MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\r\nimport { PanelBody, PanelRow, TextControl, ToggleControl, SelectControl, __experimentalUnitControl as UnitControl, Button, ToolbarGroup, ToolbarButton, Dashicon } from '@wordpress/components';\r\n\r\n// Settings Components\r\nimport Title from '../../Components/Title';\r\nimport BtnGroup from '../../Components/BtnGroup';\r\n\r\nimport options from './Const/options';\r\nconst { sourceTypes, loadingTypes, pxUnit, perUnit, emUnit } = options;\r\n\r\nconst Settings = ({ attributes, setAttributes }) => {\r\n\tconst { alignment, sourceType, model, modelLink, width, height, isTouchMove, isZoom, loadingType } = attributes;\r\n\r\n\tconst onModelSelect = ({ id, url, title }) => setAttributes({ model: { ...model, id, url, title } });\r\n\r\n\treturn <>\r\n\t\t<InspectorControls>\r\n\t\t\t<PanelBody className='bPlPanelBody help' title={__('Help', '3d-viewer-block')}>\r\n\t\t\t\t<div className='helpItem'>\r\n\t\t\t\t\t<a href='https://bblockswp.com/docs/3d-viewer-block/' target='_blank' rel='noreferrer'><Dashicon icon='book' />{__('Read Documentation', '3d-viewer-block')}</a>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='helpItem rateUs'>\r\n\t\t\t\t\t<a href='https://wordpress.org/support/plugin/3d-viewer-block/reviews/#new-post' target='_blank' rel='noreferrer'>\r\n\t\t\t\t\t\t<span><Dashicon icon='star-filled' />{__('Would you please rate us?', '3d-viewer-block')}</span>\r\n\t\t\t\t\t\t<span>{__('We are new and we need your help to grow!🙏', '3d-viewer-block')}</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</PanelBody>\r\n\r\n\r\n\t\t\t<PanelBody className='bPlPanelBody' title={__('3D Model Settings', '3d-viewer-block')}>\r\n\t\t\t\t<PanelRow>\r\n\t\t\t\t\t<Title mt='0'>{__('Source Type:', '3d-viewer-block')}</Title>\r\n\t\t\t\t\t<BtnGroup value={sourceType} onChange={val => setAttributes({ sourceType: val })} options={sourceTypes} />\r\n\t\t\t\t</PanelRow>\r\n\t\t\t\t{'upload' === sourceType && <small>{__('Please refresh the page first, if you install the plugin for the first time from gutenberg editor')}</small>}\r\n\r\n\t\t\t\t{'upload' === sourceType && <>\r\n\t\t\t\t\t<Title>{__('Upload:', '3d-viewer-block')}</Title>\r\n\r\n\t\t\t\t\t<div className='editImageHolder'>\r\n\t\t\t\t\t\t<div className='mediaControl'>\r\n\t\t\t\t\t\t\t<MediaUpload allowedTypes={['model/gltf-binary']} value={model?.id} onSelect={onModelSelect} render={({ open }) =>\r\n\t\t\t\t\t\t\t\t!model.url ? <div className='btnControl'>\r\n\t\t\t\t\t\t\t\t\t<Button icon='upload' onClick={open}>{__('Upload', '3d-viewer-block')}</Button>\r\n\t\t\t\t\t\t\t\t</div> : <div className='btnControl'>\r\n\t\t\t\t\t\t\t\t\t<Button icon='controls-repeat' onClick={open}>{__('Replace', '3d-viewer-block')}</Button>\r\n\t\t\t\t\t\t\t\t\t<Button icon='exit' onClick={() => setAttributes({ model: { id: null, url: '', title: '' } })} className='btnRed'>{__('Remove', '3d-viewer-block')}</Button>\r\n\t\t\t\t\t\t\t\t</div>} />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<model-viewer class='modelPreview' src={model?.url} alt={model?.title}></model-viewer>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>}\r\n\r\n\t\t\t\t{'link' === sourceType && <>\r\n\t\t\t\t\t<Title>{__('Model Link:', '3d-viewer-block')}</Title>\r\n\t\t\t\t\t<TextControl value={modelLink} onChange={val => setAttributes({ modelLink: val })} />\r\n\t\t\t\t</>}\r\n\r\n\t\t\t\t<UnitControl className='mt20' label={__('Width:', '3d-viewer-block')} labelPosition='left' value={width} onChange={val => setAttributes({ width: val })} units={[pxUnit, perUnit, emUnit]} />\r\n\t\t\t\t<small>{__('Keep width 0, to auto width.', '3d-viewer-block')}</small>\r\n\r\n\t\t\t\t<UnitControl className='mt20' label={__('Height:', '3d-viewer-block')} labelPosition='left' value={height} onChange={val => setAttributes({ height: val })} units={[pxUnit, perUnit, emUnit]} />\r\n\t\t\t\t<small>{__('Keep height 0, to 350px height.', '3d-viewer-block')}</small>\r\n\r\n\t\t\t\t<ToggleControl className='mt20' label={__('Controls via mouse/touch', '3d-viewer-block')} checked={isTouchMove} onChange={val => setAttributes({ isTouchMove: val })} />\r\n\r\n\t\t\t\t{isTouchMove && <>\r\n\t\t\t\t\t<ToggleControl className='mt20' label={__('Zoom', '3d-viewer-block')} checked={isZoom} onChange={val => setAttributes({ isZoom: val })} />\r\n\t\t\t\t\t<small>{__(`Enable 'Controls via mouse/touch' to work Zoom!`, '3d-viewer-block')}</small>\r\n\t\t\t\t</>}\r\n\r\n\t\t\t\t<PanelRow className='mt20'>\r\n\t\t\t\t\t<Title mt='0' mb='0'>{__('Loading Type:', 'b-blocks')}</Title>\r\n\t\t\t\t\t<SelectControl value={loadingType} onChange={val => setAttributes({ loadingType: val })} options={loadingTypes} />\r\n\t\t\t\t</PanelRow>\r\n\t\t\t</PanelBody>\r\n\t\t</InspectorControls>\r\n\r\n\r\n\t\t<BlockControls>\r\n\t\t\t{model?.url && <ToolbarGroup className='bPlToolbar'>\r\n\t\t\t\t<MediaUploadCheck>\r\n\t\t\t\t\t<MediaUpload allowedTypes={['model/gltf-binary']} value={model?.id} onSelect={onModelSelect} render={({ open }) => <ToolbarButton label={__('Edit 3D Model:', '3d-viewer-block')} icon='edit' onClick={open} />} />\r\n\t\t\t\t</MediaUploadCheck>\r\n\t\t\t</ToolbarGroup>}\r\n\r\n\t\t\t<AlignmentToolbar value={alignment} onChange={val => setAttributes({ alignment: val })} describedBy={__('3D Model Alignment')} alignmentControls={[\r\n\t\t\t\t{ title: __('3D Model in left', '3d-viewer-block'), align: 'left', icon: 'align-left' },\r\n\t\t\t\t{ title: __('3D Model in center', '3d-viewer-block'), align: 'center', icon: 'align-center' },\r\n\t\t\t\t{ title: __('3D Model in right', '3d-viewer-block'), align: 'right', icon: 'align-right' }\r\n\t\t\t]} />\r\n\t\t</BlockControls>\r\n\t</>;\r\n};\r\nexport default Settings;","const Style = ({ attributes, clientId }) => {\r\n\tconst { alignment, width, height } = attributes;\r\n\r\n\treturn <style dangerouslySetInnerHTML={{\r\n\t\t__html: `\r\n\t\t#tdvb3DViewerBlock-${clientId} .tdvb3DViewerBlock{\r\n\t\t\ttext-align: ${alignment};\r\n\t\t}\r\n\t\t#tdvb3DViewerBlock-${clientId} .tdvb3DViewerBlock model-viewer{\r\n\t\t\twidth: ${'0px' === width || '0%' === width || '0em' === width ? 'auto' : width};\r\n\t\t\theight: ${'0px' === height || '0%' === height || '0em' === height ? '350px' : height};\r\n\t\t}\r\n\t\t`.replace(/\\s+/g, ' ')\r\n\t}} />\r\n}\r\nexport default Style;","import { forwardRef } from '@wordpress/element';\r\n\r\nconst TDViewer = ({ attributes }, ref) => {\r\n\tconst { sourceType, model, modelLink, loadingType } = attributes;\r\n\r\n\treturn <div className='tdvb3DViewerBlock' ref={ref}>\r\n\t\t<model-viewer\r\n\t\t\tsrc={'upload' === sourceType ? model?.url : modelLink}\r\n\t\t\talt={'upload' === sourceType ? model?.title : ''}\r\n\t\t\tcamera-controls\r\n\t\t\tloading={loadingType}\r\n\t\t\tauto-rotate\r\n\t\t></model-viewer>\r\n\t</div>\r\n}\r\nexport default forwardRef(TDViewer);","import { __ } from '@wordpress/i18n';\r\nimport { useEffect, useRef } from '@wordpress/element';\r\n\r\nimport Settings from './Settings';\r\nimport Style from './Style';\r\nimport TDViewer from './TDViewer';\r\n\r\nconst Edit = props => {\r\n\tconst { className, attributes, setAttributes, clientId } = props;\r\n\tconst { sourceType, model, modelLink, isTouchMove, isZoom, loadingType } = attributes;\r\n\r\n\tuseEffect(() => { clientId && setAttributes({ cId: clientId.substring(0, 10) }); }, [clientId]); // Set & Update clientId to cId\r\n\r\n\tconst tdvb3DViewerBlock = useRef(null);\r\n\r\n\tconst toggleAttr = (selector, condition, attribute, value) => {\r\n\t\tcondition && selector?.setAttribute(attribute, value);\r\n\t\t!condition && selector?.removeAttribute(attribute, value);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\ttdvb3DViewerBlock.current.innerHTML = '';\r\n\r\n\t\tconst reInitModel = document.createElement('model-viewer');\r\n\t\ttoggleAttr(reInitModel, true, 'class', 'tdvbModel');\r\n\t\ttoggleAttr(reInitModel, true, 'src', 'upload' === sourceType ? model?.url : modelLink);\r\n\t\ttoggleAttr(reInitModel, true, 'alt', 'upload' === sourceType ? model?.title : '');\r\n\t\ttoggleAttr(reInitModel, isTouchMove, 'camera-controls', '');\r\n\t\ttoggleAttr(reInitModel, !isZoom, 'disable-zoom', '');\r\n\t\ttoggleAttr(reInitModel, true, 'loading', loadingType);\r\n\t\ttoggleAttr(reInitModel, true, 'auto-rotate', '');\r\n\r\n\t\ttdvb3DViewerBlock.current.appendChild(reInitModel);\r\n\t}, [sourceType, model, modelLink, isTouchMove, isZoom, loadingType]);\r\n\r\n\treturn <>\r\n\t\t<Settings attributes={attributes} setAttributes={setAttributes} clientId={clientId} />\r\n\r\n\t\t<div className={className} id={`tdvb3DViewerBlock-${clientId}`}>\r\n\t\t\t<Style attributes={attributes} clientId={clientId} />\r\n\r\n\t\t\t{'upload' === sourceType && !model.url ? <p className='noModel'>{__('Please, upload Model or enter Model Link first!', '3d-viewer-block')}</p> : ''}\r\n\r\n\t\t\t<TDViewer attributes={attributes} ref={tdvb3DViewerBlock} />\r\n\t\t</div >\r\n\t</>;\r\n};\r\nexport default Edit;","const iconColor = '#4527a4';\r\nconst icons = {\r\n\ttDViewer: <svg xmlns='http://www.w3.org/2000/svg' width={24} height={24} viewBox='0 0 512 512'>\r\n\t\t<path fill={iconColor} d='M68.983,382.642l171.35,98.928a32.082,32.082,0,0,0,32,0l171.352-98.929a32.093,32.093,0,0,0,16-27.713V157.071a32.092,32.092,0,0,0-16-27.713L272.334,30.429a32.086,32.086,0,0,0-32,0L68.983,129.358a32.09,32.09,0,0,0-16,27.713V354.929A32.09,32.09,0,0,0,68.983,382.642ZM272.333,67.38l155.351,89.691V334.449L272.333,246.642ZM256.282,274.327l157.155,88.828-157.1,90.7L99.179,363.125ZM84.983,157.071,240.333,67.38v179.2L84.983,334.39Z' />\r\n\t</svg>\r\n}\r\nexport default icons;","import { registerBlockType } from '@wordpress/blocks';\r\n\r\nimport metadata from '../block.json';\r\nimport Edit from './Edit';\r\nimport './editor.scss';\r\nimport icons from './Const/icons';\r\n\r\nregisterBlockType(metadata, {\r\n\ticon: icons.tDViewer,\r\n\r\n\t// Build in Functions\r\n\tedit: Edit,\r\n\r\n\tsave: () => null\r\n});"],"names":["wp","blocks","i18n","element","blockEditor","components","props","mt","mb","children","className","style","marginTop","marginBottom","value","onChange","options","isIcon","isTextIcon","size","ButtonGroup","Object","values","map","obj","Tooltip","key","text","label","position","Button","icon","isPrimary","isSmall","isMedium","onClick","def","sourceTypes","__","loadingTypes","pxUnit","default","perUnit","emUnit","remUnit","vwUnit","vhUnit","attributes","setAttributes","alignment","sourceType","model","modelLink","width","height","isTouchMove","isZoom","loadingType","onModelSelect","id","url","title","InspectorControls","PanelBody","href","target","rel","Dashicon","PanelRow","val","MediaUpload","allowedTypes","onSelect","render","open","class","src","alt","TextControl","labelPosition","units","ToggleControl","checked","SelectControl","BlockControls","ToolbarGroup","MediaUploadCheck","ToolbarButton","AlignmentToolbar","describedBy","alignmentControls","align","clientId","dangerouslySetInnerHTML","__html","replace","forwardRef","ref","loading","useEffect","cId","substring","tdvb3DViewerBlock","useRef","toggleAttr","selector","condition","attribute","setAttribute","removeAttribute","current","innerHTML","reInitModel","document","createElement","appendChild","tDViewer","xmlns","viewBox","fill","d","registerBlockType","metadata","icons","edit","Edit","save"],"sourceRoot":""}