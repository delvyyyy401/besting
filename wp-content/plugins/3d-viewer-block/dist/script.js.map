{"version":3,"file":"script.js","mappings":"yBAAA,IAAI,EAA+BA,GAAGC,QCetC,EAfc,SAAC,GAA6B,IAA3BC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,SACpBC,EAA6BF,EAA7BE,UAAWC,EAAkBH,EAAlBG,MAAOC,EAAWJ,EAAXI,OAE1B,OAAO,kCAAOC,wBAAyB,CACtCC,OAAQ,mCACaL,EADb,mDAEOC,EAFP,4CAIaD,EAJb,2DAKE,QAAUE,GAAS,OAASA,GAAS,QAAUA,EAAQ,OAASA,EALlE,4BAMG,QAAUC,GAAU,OAASA,GAAU,QAAUA,EAAS,QAAUA,EANvE,kBAQNG,QAAQ,OAAQ,SCGpB,GAAeC,EAAAA,EAAAA,aAbE,SAAC,EAAgBC,GAAQ,IAAtBT,EAAsB,EAAtBA,WACXU,EAA8CV,EAA9CU,WAAYC,EAAkCX,EAAlCW,MAAOC,EAA2BZ,EAA3BY,UAAWC,EAAgBb,EAAhBa,YAEtC,OAAO,gCAAKC,UAAU,oBAAoBL,IAAKA,GAC9C,yCACCM,IAAK,WAAaL,EAAaC,aAA1B,EAA0BA,EAAOK,IAAMJ,EAC5CK,IAAK,WAAaP,EAAaC,aAA1B,EAA0BA,EAAOO,MAAQ,GAC9C,qBACAC,QAASN,EACT,uBCJHO,SAASC,iBAAiB,oBAAoB,WACzBD,SAASE,iBAAiB,4BAClCC,SAAQ,SAAAC,GACnB,IAAMxB,EAAayB,KAAKC,MAAMF,EAASG,QAAQ3B,aAE/C4B,EAAAA,EAAAA,QAAO,kDACN,yBAAC,EAAD,CAAO5B,WAAYA,EAAYC,SAAUD,EAAW6B,MAEpD,yBAACC,EAAD,CAAgB9B,WAAYA,KACxBwB,GAELA,SAAAA,EAAUO,gBAAgB,yBAI5B,IAAMD,EAAiB,SAAC,GAAmB,IAAjB9B,EAAiB,EAAjBA,WACjBgC,EAAwBhC,EAAxBgC,YAAaC,EAAWjC,EAAXiC,OAEfC,GAAoBC,EAAAA,EAAAA,QAAO,MAE3BC,EAAa,SAACC,EAAUC,EAAWC,EAAWC,GACnDF,IAAaD,SAAAA,EAAUI,aAAaF,EAAWC,KAC9CF,IAAaD,SAAAA,EAAUN,gBAAgBQ,EAAWC,KASpD,OANAE,EAAAA,EAAAA,YAAU,WACT,IAAM/B,EAAQS,SAASuB,cAAT,WAA2BT,EAAkBU,QAAQC,UAAU,GAA/D,kBACdT,EAAWzB,EAAOqB,EAAa,kBAAmB,IAClDI,EAAWzB,GAAQsB,EAAQ,eAAgB,MACzC,CAACC,EAAkBU,UAEf,yBAAC,EAAD,CAAU5C,WAAYA,EAAYS,IAAKyB,K","sources":["webpack://3d-viewer-block/external var [\"wp\",\"element\"]","webpack://3d-viewer-block/./src/Style.js","webpack://3d-viewer-block/./src/TDViewer.js","webpack://3d-viewer-block/./src/script.js"],"sourcesContent":["var __WEBPACK_NAMESPACE_OBJECT__ = wp.element;","const Style = ({ attributes, clientId }) => {\r\n\tconst { alignment, width, height } = attributes;\r\n\r\n\treturn <style dangerouslySetInnerHTML={{\r\n\t\t__html: `\r\n\t\t#tdvb3DViewerBlock-${clientId} .tdvb3DViewerBlock{\r\n\t\t\ttext-align: ${alignment};\r\n\t\t}\r\n\t\t#tdvb3DViewerBlock-${clientId} .tdvb3DViewerBlock model-viewer{\r\n\t\t\twidth: ${'0px' === width || '0%' === width || '0em' === width ? 'auto' : width};\r\n\t\t\theight: ${'0px' === height || '0%' === height || '0em' === height ? '350px' : height};\r\n\t\t}\r\n\t\t`.replace(/\\s+/g, ' ')\r\n\t}} />\r\n}\r\nexport default Style;","import { forwardRef } from '@wordpress/element';\r\n\r\nconst TDViewer = ({ attributes }, ref) => {\r\n\tconst { sourceType, model, modelLink, loadingType } = attributes;\r\n\r\n\treturn <div className='tdvb3DViewerBlock' ref={ref}>\r\n\t\t<model-viewer\r\n\t\t\tsrc={'upload' === sourceType ? model?.url : modelLink}\r\n\t\t\talt={'upload' === sourceType ? model?.title : ''}\r\n\t\t\tcamera-controls\r\n\t\t\tloading={loadingType}\r\n\t\t\tauto-rotate\r\n\t\t></model-viewer>\r\n\t</div>\r\n}\r\nexport default forwardRef(TDViewer);","import { render, useEffect, useRef } from '@wordpress/element';\r\n\r\nimport './style.scss';\r\nimport Style from './Style';\r\nimport TDViewer from './TDViewer';\r\n\r\n// 3D Viewer\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tconst allTDViewer = document.querySelectorAll('.wp-block-tdvb-td-viewer');\r\n\tallTDViewer.forEach(tDViewer => {\r\n\t\tconst attributes = JSON.parse(tDViewer.dataset.attributes);\r\n\r\n\t\trender(<>\r\n\t\t\t<Style attributes={attributes} clientId={attributes.cId} />\r\n\r\n\t\t\t<RenderTDViewer attributes={attributes} />\r\n\t\t</>, tDViewer);\r\n\r\n\t\ttDViewer?.removeAttribute('data-attributes');\r\n\t});\r\n});\r\n\r\nconst RenderTDViewer = ({ attributes }) => {\r\n\tconst { isTouchMove, isZoom } = attributes;\r\n\r\n\tconst tdvb3DViewerBlock = useRef(null);\r\n\r\n\tconst toggleAttr = (selector, condition, attribute, value) => {\r\n\t\tcondition && selector?.setAttribute(attribute, value);\r\n\t\t!condition && selector?.removeAttribute(attribute, value);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst model = document.querySelector(`.${tdvb3DViewerBlock.current.classList[0]} model-viewer`);\r\n\t\ttoggleAttr(model, isTouchMove, 'camera-controls', '');\r\n\t\ttoggleAttr(model, !isZoom, 'disable-zoom', '');\r\n\t}, [tdvb3DViewerBlock.current])\r\n\r\n\treturn <TDViewer attributes={attributes} ref={tdvb3DViewerBlock} />\r\n}"],"names":["wp","element","attributes","clientId","alignment","width","height","dangerouslySetInnerHTML","__html","replace","forwardRef","ref","sourceType","model","modelLink","loadingType","className","src","url","alt","title","loading","document","addEventListener","querySelectorAll","forEach","tDViewer","JSON","parse","dataset","render","cId","RenderTDViewer","removeAttribute","isTouchMove","isZoom","tdvb3DViewerBlock","useRef","toggleAttr","selector","condition","attribute","value","setAttribute","useEffect","querySelector","current","classList"],"sourceRoot":""}